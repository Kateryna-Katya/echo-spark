{"version":3,"file":"main-Cr3aIwoV.js","sources":["../../src/main.js"],"sourcesContent":["/**\n * ECHO-SPARK.LIFE - Универсальный скрипт\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n  // --- 1. МОБИЛЬНОЕ МЕНЮ (Работает на всех страницах) ---\n  const burger = document.getElementById('burger');\n  const mobileMenu = document.getElementById('mobileMenu');\n  const mobileLinks = document.querySelectorAll('.mobile-menu__link');\n\n  if (burger && mobileMenu) {\n      const toggleMenu = () => {\n          burger.classList.toggle('active');\n          mobileMenu.classList.toggle('active');\n          document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';\n      };\n\n      burger.addEventListener('click', toggleMenu);\n\n      mobileLinks.forEach(link => {\n          link.addEventListener('click', () => {\n              if (mobileMenu.classList.contains('active')) toggleMenu();\n          });\n      });\n  }\n\n  // --- 2. АНИМАЦИЯ ГЛАВНОГО ЗАГОЛОВКА (Только для главной) ---\n  const title = document.getElementById('hero-title');\n  if (title) {\n      const text = title.innerText;\n      title.innerHTML = text.split(' ').map(word => `<span>${word}</span>`).join(' ');\n\n      const spans = title.querySelectorAll('span');\n      spans.forEach((span, idx) => {\n          setTimeout(() => {\n              span.style.opacity = '1';\n              span.style.transform = 'translateY(0)';\n          }, 100 * idx);\n      });\n  }\n\n  // --- 3. ИНТЕРАКТИВНЫЙ ДЕКОР (Параллакс) ---\n  document.addEventListener('mousemove', (e) => {\n      const decor1 = document.querySelector('.hero__decor--1');\n      if (decor1) {\n          const x = e.clientX / window.innerWidth;\n          const y = e.clientY / window.innerHeight;\n          decor1.style.transform = `translate(${x * 50}px, ${y * 50}px)`;\n      }\n  });\n\n  // --- 4. СКРОЛЛ-АНИМАЦИИ (Intersection Observer) ---\n  const revealElements = document.querySelectorAll('.reveal');\n  if (revealElements.length > 0) {\n      const observer = new IntersectionObserver((entries) => {\n          entries.forEach(entry => {\n              if (entry.isIntersecting) {\n                  entry.target.classList.add('active');\n              }\n          });\n      }, { threshold: 0.15 });\n\n      revealElements.forEach(el => observer.observe(el));\n  }\n\n  // --- 5. ЖИВЫЕ СЧЕТЧИКИ (Только где есть .stats-grid) ---\n  const statsGrid = document.querySelector('.stats-grid');\n  if (statsGrid) {\n      const animateCounters = () => {\n          const counters = document.querySelectorAll('.counter');\n          const speed = 200;\n          counters.forEach(counter => {\n              const target = +counter.getAttribute('data-target');\n              const count = +counter.innerText;\n              const inc = target / speed;\n              const updateCount = () => {\n                  const currentCount = +counter.innerText;\n                  if (currentCount < target) {\n                      counter.innerText = Math.ceil(currentCount + inc);\n                      setTimeout(updateCount, 10);\n                  } else {\n                      counter.innerText = target;\n                  }\n              };\n              updateCount();\n          });\n      };\n\n      const statsObserver = new IntersectionObserver((entries) => {\n          if (entries[0].isIntersecting) {\n              animateCounters();\n              statsObserver.unobserve(statsGrid);\n          }\n      }, { threshold: 0.5 });\n      statsObserver.observe(statsGrid);\n  }\n\n  // --- 6. КОНТАКТНАЯ ФОРМА И КАПЧА ---\n  const careerForm = document.getElementById('careerForm');\n  if (careerForm) {\n      const num1 = Math.floor(Math.random() * 10) + 1;\n      const num2 = Math.floor(Math.random() * 10) + 1;\n      const captchaQuestion = document.getElementById('captcha-question');\n      const phoneInput = document.getElementById('phone');\n\n      if (captchaQuestion) captchaQuestion.innerText = `${num1} + ${num2}`;\n\n      if (phoneInput) {\n          phoneInput.addEventListener('input', function() {\n              this.value = this.value.replace(/[^0-9]/g, '');\n          });\n      }\n\n      careerForm.addEventListener('submit', function(e) {\n          e.preventDefault();\n          const userAnswer = parseInt(document.getElementById('captcha-answer').value);\n          if (userAnswer !== (num1 + num2)) {\n              alert('Неверный ответ на капчу!');\n              return;\n          }\n\n          const submitBtn = document.getElementById('submitBtn');\n          const btnText = submitBtn.querySelector('.btn-text');\n          const loader = document.getElementById('loader');\n          const formStatus = document.getElementById('formStatus');\n\n          btnText.style.display = 'none';\n          loader.style.display = 'block';\n          submitBtn.disabled = true;\n\n          setTimeout(() => {\n              loader.style.display = 'none';\n              btnText.style.display = 'block';\n              btnText.innerText = 'Отправлено!';\n              formStatus.innerText = 'Спасибо! Мы получили вашу заявку.';\n              formStatus.classList.add('success');\n              careerForm.reset();\n          }, 2000);\n      });\n  }\n\n  // --- 7. COOKIE POPUP ---\n  const cookiePopup = document.getElementById('cookiePopup');\n  const acceptBtn = document.getElementById('acceptCookies');\n\n  if (cookiePopup && acceptBtn) {\n      if (!localStorage.getItem('cookiesAccepted')) {\n          setTimeout(() => cookiePopup.classList.add('active'), 2000);\n      }\n      acceptBtn.addEventListener('click', () => {\n          localStorage.setItem('cookiesAccepted', 'true');\n          cookiePopup.classList.remove('active');\n      });\n  }\n\n  // --- 8. ЭФФЕКТ ХЕДЕРА ПРИ СКРОЛЛЕ ---\n  const header = document.querySelector('.header');\n  if (header) {\n      window.addEventListener('scroll', () => {\n          if (window.scrollY > 50) {\n              header.style.padding = '12px 0';\n              header.style.background = 'rgba(15, 23, 42, 0.95)';\n          } else {\n              header.style.padding = '20px 0';\n              header.style.background = 'rgba(15, 23, 42, 0.8)';\n          }\n      });\n  }\n});"],"names":["burger","mobileMenu","mobileLinks","toggleMenu","link","title","text","word","span","idx","e","decor1","x","y","revealElements","observer","entries","entry","el","statsGrid","animateCounters","counters","speed","counter","target","inc","updateCount","currentCount","statsObserver","careerForm","num1","num2","captchaQuestion","phoneInput","submitBtn","btnText","loader","formStatus","cookiePopup","acceptBtn","header"],"mappings":"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"}